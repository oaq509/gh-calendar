<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?version=17">
    <script src="moment/moment.js"></script>
    <script src="moment-hijri/moment-hijri.js"></script>
    <title>ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®</title>
</head>

<body>





    <h1>ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® <br></h1>
    <h2>Ù‡Ø¬Ø±ÙŠ Ø¥Ù„Ù‰ Ù…ÙŠÙ„Ø§Ø¯ÙŠ</h2>

    <div class="container">

        <button onclick="calc()" id="submit">ØªØ­ÙˆÙŠÙ„</button>
        <input type="text" maxlength="4" id="year" placeholder="Ø§Ù„Ø³Ù†Ø©" value="">
        <select id="month">
            <option value="0">Ø§Ù„Ø´Ù‡Ø±</option>
            <option value="1">1 Ù…Ø­Ø±Ù…</option>
            <option value="2">2 ØµÙØ±</option>
            <option value="3">3 Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„</option>
            <option value="4">4 Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
            <option value="5">5 Ø¬Ù…Ø§Ø¯ÙŠ Ø§Ù„Ø£ÙˆÙ„</option>
            <option value="6">6 Ø¬Ù…Ø§Ø¯ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
            <option value="7">7 Ø±Ø¬Ø¨</option>
            <option value="8">8 Ø´Ø¹Ø¨Ø§Ù†</option>
            <option value="9">9 Ø±Ù…Ø¶Ø§Ù†</option>
            <option value="10">10 Ø´ÙˆØ§Ù„</option>
            <option value="11">11 Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©</option>
            <option value="12">12 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©</option>
        </select>
        <input autofocus type="text" maxlength="2" id="day" placeholder="Ø§Ù„ÙŠÙˆÙ…" value="" autofocus>
        <bdi>:</bdi> Ù‡Ø¬Ø±ÙŠ
        <br>
        <br>

        <input type="text" maxlength="4" disabled id="yearRes" value="">
        <input type="text" maxlength="4" disabled id="monthRes" value="">

        <input autofocus type="text" disabled maxlength="2" id="dayRes" value="">
        <bdi>=</bdi> Ù…ÙŠÙ„Ø§Ø¯ÙŠ
    </div>
    <p style="text-align: center; margin-top: 50px; color: gray;">Developed by oyis ğŸ–¤.</p>
    <script>
        var year = document.getElementById("year");
        var month = null;
        var day = null;

        // Execute a function when the user releases a key on the keyboard
        year.addEventListener("keyup", function(event) {
            // Number 13 is the "Enter" key on the keyboard
            if (event.keyCode === 13) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
                document.getElementById("submit").click();
            }
        });


        function calc() {

            day = Number(document.querySelector("#day").value);
            month = Number(document.querySelector("#month").value);
            year = Number(document.querySelector("#year").value);

            if (day < 1 || day > 30) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙŠÙˆÙ… ØµØ­ÙŠØ­");
                document.querySelector("#dayRes").value = "";
                document.querySelector("#monthRes").value = "";
                document.querySelector("#yearRes").value = "";
                return;
            }

            if (month < 1 || month > 12) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø´Ù‡Ø± ØµØ­ÙŠØ­");
                document.querySelector("#dayRes").value = "";
                document.querySelector("#monthRes").value = "";
                document.querySelector("#yearRes").value = "";
                return;
            }

            if (year < 1000 || year > 1500) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ù†Ø© ØµØ­ÙŠØ­Ø©");
                document.querySelector("#dayRes").value = "";
                document.querySelector("#monthRes").value = "";
                document.querySelector("#yearRes").value = "";
                return;
            }

            if (year < 1356) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ù†Ø© Ø£ÙƒØ¨Ø± Ù…Ù† 1356 Ù‡Ø¬Ø±ÙŠ");
                document.querySelector("#dayRes").value = "";
                document.querySelector("#monthRes").value = "";
                document.querySelector("#yearRes").value = "";
                return;
            }

            //--------------------------------------------
            let dayRes = document.querySelector("#dayRes");
            let monthRes = document.querySelector("#monthRes");
            let yearRes = document.querySelector("#yearRes");

            m = moment(String(year) + '/' + String(month) + '/' + String(day), 'iYYYY/iM/iD');
            dateFormat = String(m.format('YYYY-M-D'));
            let myDate = dateFormat.split("-");

            dayRes.value = String(myDate[2]);
            monthRes.value = String(myDate[1]);
            yearRes.value = String(myDate[0]);


        }
    </script>
</body>

</html>